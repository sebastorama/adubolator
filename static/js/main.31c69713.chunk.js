(this.webpackJsonpadubolator=this.webpackJsonpadubolator||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),i=a.n(c),l=(a(14),a(5)),o=a(2);a(15),a(16);function u(){return{id:(new Date).getTime(),n:0,p:0,k:0,s:0,kgPerHa:0,pricePerTon:0}}(new Date).getTime(),(new Date).getTime();function m(){return{id:(new Date).getTime(),fertilizers:[u()]}}function s(e){var t=function(e){return isNaN(e)?0:e},a={n:0,p:0,k:0,s:0,pricePerHa:0};return e.fertilizers.forEach((function(e){a.n+=t(e.n*e.kgPerHa)/100,a.p+=t(e.p*e.kgPerHa)/100,a.k+=t(e.k*e.kgPerHa)/100,a.s+=t(e.s*e.kgPerHa)/100,a.pricePerHa+=t(e.pricePerTon*e.kgPerHa)/1e3})),a}var f=a(1),d=function(e){var t=e.fieldName,a=e.fieldLabelText,c=e.data,i=e.onDataChange,l=Object(n.useState)(c),u=Object(o.a)(l,2),m=u[0],s=u[1];return Object(n.useEffect)((function(){i(m)}),[m]),r.a.createElement("div",{className:"field fertilizer-field"},r.a.createElement("label",{htmlFor:t,className:"label is-small"},a||t.toUpperCase(),":"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"number",className:"input is-small",name:t,value:m,onChange:function(e){s(parseInt(e.target.value,10))}})))};var b=function(e){var t=e.data,a=e.onChangeFertilizer,c=e.onRemoveFertilizer,i=Object(n.useState)(t),l=Object(o.a)(i,2),u=l[0],m=l[1];return Object(n.useEffect)((function(){a(u)}),[u]),r.a.createElement(n.Fragment,null,r.a.createElement("form",{className:"fertilizer-form"},r.a.createElement(d,{fieldName:"n",data:u.n,onDataChange:function(e){return m(Object(f.a)(Object(f.a)({},u),{},{n:e}))}}),r.a.createElement(d,{fieldName:"p",data:u.p,onDataChange:function(e){return m(Object(f.a)(Object(f.a)({},u),{},{p:e}))}}),r.a.createElement(d,{fieldName:"k",data:u.k,onDataChange:function(e){return m(Object(f.a)(Object(f.a)({},u),{},{k:e}))}}),r.a.createElement(d,{fieldName:"s",data:u.s,onDataChange:function(e){return m(Object(f.a)(Object(f.a)({},u),{},{s:e}))}}),r.a.createElement(d,{fieldName:"kgPerHa",fieldLabelText:"kg/ha",data:u.s,onDataChange:function(e){return m(Object(f.a)(Object(f.a)({},u),{},{kgPerHa:e}))}}),r.a.createElement(d,{fieldName:"pricePerTon",fieldLabelText:"$/ton",data:u.s,onDataChange:function(e){return m(Object(f.a)(Object(f.a)({},u),{},{pricePerTon:e}))}})),r.a.createElement("button",{className:"delete",onClick:c},"Remover Fertilizante"))},E=a(8),g=function(e){var t=e.summary;return r.a.createElement(n.Fragment,null,r.a.createElement("p",null,r.a.createElement("var",null,"N:"),t.n,r.a.createElement("var",null,"P:"),t.p,r.a.createElement("var",null,"K:"),t.k,r.a.createElement("var",null,"S:"),t.s,r.a.createElement("var",null,"custo/ha:"),r.a.createElement(E.a,{value:t.pricePerHa,displayType:"text",thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,prefix:"$"})))},p=function(e){var t=e.data,a=e.onRemoveStrategy,c=e.onChangeStrategy,i=Object(n.useState)(t),l=Object(o.a)(i,2),m=l[0],d=l[1];function E(e){var t=Object(f.a)({},m);t.fertilizers=m.fertilizers.map((function(t){return t.id===e.id?e:t})),d(Object(f.a)({},t))}return Object(n.useEffect)((function(){m.fertilizers.length>0?c(m):a()}),[m]),r.a.createElement("div",{className:"strategy"},m.fertilizers.map((function(e){return r.a.createElement("div",{className:"row"},r.a.createElement(b,{key:e.id,data:e,onChangeFertilizer:E,onRemoveFertilizer:function(){return function(e){var t=Object(f.a)({},m);t.fertilizers=m.fertilizers.filter((function(t){return t.id!==e.id})),d(Object(f.a)({},t))}(e)}}))})),r.a.createElement("div",{className:"row summary-result"},r.a.createElement(g,{summary:s(m)})),r.a.createElement("div",{className:"row strategy-actions"},r.a.createElement("button",{type:"button",className:"button is-small",onClick:function(){var e=Object(f.a)({},m);e.fertilizers.push(u()),d(Object(f.a)({},e))}},"Adicionar Fertilizante"),r.a.createElement("button",{type:"button",className:"button is-danger is-small",onClick:a},"Remover Manejo")))},v=function(){var e=Object(n.useState)([m()]),t=Object(o.a)(e,2),a=t[0],c=t[1],i=function(e){var t=a.map((function(t){return t.id===e.id?e:t}));c(Object(l.a)(t))};return r.a.createElement(n.Fragment,null,r.a.createElement("header",null,r.a.createElement("div",{className:"row align-center"},r.a.createElement("h1",null,"Adubolator"))),r.a.createElement("main",null,a.map((function(e){return r.a.createElement("div",{className:"row"},r.a.createElement(p,{key:e.id,data:e,onRemoveStrategy:function(){return function(e){var t=a.filter((function(t){return t.id!==e.id}));c(Object(l.a)(t))}(e)},onChangeStrategy:i}))})),r.a.createElement("div",{className:"row"},r.a.createElement("button",{type:"button",className:"button is-primary add-strategy",onClick:function(){var e=m();c([].concat(Object(l.a)(a),[e]))}},"Acrescentar Manejo"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.31c69713.chunk.js.map